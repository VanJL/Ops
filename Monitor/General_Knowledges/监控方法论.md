## 著名的监控方法论



Google的四个黄金指标（来源SRE一书）

方法目标及应用：

- 常用于在服务级别帮助衡量终端用户体验、服务中断、业务影响等层面的问题
- 适用于应用及服务监控

四个黄金指标：

- 延迟（Latency）

  - 服务请求所需要的时长，例如HTTP请求平均延迟；
  - 需要区分失败请求和成功请求；

- 流量（Traffic）

  - 衡量服务的容量需求，例如每秒处理的HTTP请求数或者数据库系统的事务数量

- 错误（Errors）

  - 请求失败的速率，用于衡量错误发生的情况

  - 例如，HTTP 500错误数等显式失败，返回错误内容或无效内容等隐式失败，以及由策略原因导致

    的失败（例如强制要求响应时间超过30毫秒的请求视为错误）；

- 饱和度（Saturation）

  - 衡量资源的使用情况，用于表达应用程序有多“满”
  - 例如内存、CPU、I/O、磁盘等资源的使用量



Netflix的USE方法

方法目标及应用：

- 全称为“Utilization Saturation and Errors Method”
- 主要用于分析系统性能问题，可以指导用户快速识别资源瓶颈以及错误的方法
- 应用于主机指标监控

USE方法由Netflix的内核和性能工程师Rendan Gregg提出，主要用于分析系统性能问题

- 使用率(Utilization)
  - 关注系统资源的使用情况。这里的资源主要包括但不限于：CPU，内存，网络，磁盘等等
  - 100%的使用率通常是系统性能瓶颈的标志
- 饱和度(Saturation)
  - 例如CPU的平均运行排队长度，这里主要是针对资源的饱和度(注意，不同于4大黄金信号)
  - 任何资源在某种程度上的饱和都可能导致系统性能的下降
- 错误(Errors)
  - 错误计数，例如：“网卡在数据包传输过程中检测到的以太网网络冲突了14次”



Weave Cloud的RED方法

方法目标及应用：

- Weave Cloud基于Google的四个黄金指标的原则下结合Prometheus以及Kubernetes容器实践，细化和总结的方法论，特别适合于云原生应用以及微服务架构应用的监控和度量
- 在四大黄金指标的原则下，RED方法可以有效地帮助用户衡量云原生以及微服务应用下的用户体验问题；

RED方法主要关注以下3种关键指标：

- (Request)Rate：每秒钟接收的请求数
- (Request)Errors：每秒失败的请求数
- (Request)Duration：每个请求所花费的时长

